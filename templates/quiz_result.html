{% extends 'layout.html' %}

{% block title %}
    <title>Quiz Result Page</title>
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/quiz_result.css') }}">
    <script defer src="{{ url_for('static', filename='js/mypage.js') }}"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script defer src="{{ url_for('static', filename='js/quiz_result.js') }}"></script>
{% endblock %}

{% block body %}
    <div class="result-header">
        <a href="{{ url_for('learnings') }}">
            <span class="material-symbols-outlined quit-icon">close</span>
        </a>
        <span class="material-symbols-outlined close-icon">close</span>
    </div>
    <!-- ============================================================================ -->
    <div class="result">
        <img src="{{ url_for('static', filename='images/undraw_happy_news_re_tsbd.svg') }}" class="result-image">
        <h1 id="result-comment"></h1>
        <span class="scoreboard">
            <span id="user-score">{{ score }}</span><span id="max-score">/10</span>
        </span>
        <div class="result-form">
            <button id="review-button">Review</button>
            <a href="{{ url_for('quiz', rank=rank) }}" id="return">Again</a>
        </div>
    </div>
    <!-- ============================================================================ -->
    <div class="reviewee">
        <div class="reviewee-container">
            {% for i in range(10) %}
                <div class="reviewee-card">
                    <p class="quiz-word"></p>
                    <p class="quiz-answer"></p>
                </div>
            {% endfor %}
        </div>
    </div>
    <!-- ============================================================================ -->
    <div class="edit-form">
        <div class="edit-field">
            <p>不適切な日本語訳を編集します。<br>
            編集した日本語訳はwebアプリ全体に反映されます。編集する際は慎重に検討してください。</p>
            <span class="material-symbols-outlined">close</span>
            <input type="text">
            <button>request</button>
        </div>
    </div>
    <!-- ============================================================================ -->
    <script>
        const userId = '{{ userId|tojson }}',
              wordId = JSON.parse('{{ wordId|tojson|safe }}'),
              answerState = JSON.parse('{{ answerState|tojson|safe }}'),
              rank = '{{ rank }}',
              score = '{{ score }}';
        
        console.log(score);
    </script>
{% endblock %}
