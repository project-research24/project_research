{% extends 'layout.html' %}

{% block title %}
    <title>{{ rank }} Quiz Result Page</title>
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/quiz_result.css') }}">
    <script src="{{ url_for('static', filename='js/mypage.js') }}" defer></script>
    <!-- Swiper.css CDN 導入 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css">
    <!-- Canvas Confetti CDN 導入 -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js" defer></script>
    <script src="{{ url_for('static', filename='js/quiz_result.js') }}" defer></script>
{% endblock %}

{% block body %}
    <div class="result-page">
        <div class="result-header">{{ rank }} Quiz Result</div>

        <div class="result-body">
            <div class="result-container">
                <span id="result-word"></span>
                <img src="{{ url_for('static', filename='images/trophy-icon.svg') }}" alt="trophy" id="trophy-image">
                <span id="scoreboard">Your Score<br>
                    <span id="user-score"></span><span id="max-score">/10</span>
                </span>
                <div class="next-content">
                    <button id="review-button">Review</button>
                    <a href="{{ url_for('quiz', rank=rank) }}" id="continue-button">Continue</a>
                </div>
                <a href="{{ url_for('learnings') }}" id="browser-back">
                    <img src="{{ url_for('static', filename='images/close-round-icon.svg') }}" alt="close">
                </a>
            </div>
        </div>
    </div>

    <div class="review-window">
        <span class="material-symbols-outlined close-icon">close</span>
        <div class="swiper">
            <div class="swiper-wrapper"></div>
            <div class="swiper-pagination"></div>
        </div>
    </div>

    <script>
        const rank = '{{ rank }}',
              score = Number('{{ score }}');
    </script>

    <!-- Swiper.js CDN 導入 -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script>
        const swiper = new Swiper('.swiper', {
            // Optional parameters
            direction: 'horizontal',
            loop: true,
            mousewheel: true,
            grabCursor: true,
            effect: 'coverflow',
            coverflowEffect: {
                slideShadows: false,
            },
        
            // If we need pagination
            pagination: {
              el: '.swiper-pagination',
              clickable: true,
            },
        });
    </script>
{% endblock %}
