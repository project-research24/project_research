{% extends 'layout.html' %}

{% block title %}
    <title>{{ rank }} Quiz Result Page</title>
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/quiz_result.css') }}">
    <script src="{{ url_for('static', filename='js/mypage.js') }}" defer></script>
    <!-- Swiper.css CDN 導入 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css">
    <!-- Swiper.js CDN 導入 -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js" defer></script>
    <!-- Canvas Confetti CDN 導入 -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js" defer></script>
    <script src="{{ url_for('static', filename='js/quiz_result.js') }}" defer></script>
{% endblock %}

{% block body %}
    <div class="result-page">

        <div class="result-header">
            <div class="result-title">{{ rank }} Quiz Result
                <a href="{{ url_for('learnings') }}" id="exit-icon">
                    <span class="material-symbols-outlined">close</span>
                </a>
            </div>
        </div>

        <div class="result-body">
            <div class="result-container">
                <img src="{{ url_for('static', filename='images/trophy-icon.svg') }}" alt="trophy" id="trophy-image">
                <span id="result-word"></span>
                <span id="scoreboard">
                    <span id="user-score"></span><span id="max-score">/10</span>
                </span>
                <div class="next-content">
                    <button id="review-button">Review</button>
                    <a href="{{ url_for('quiz', rank=rank) }}" id="retry-button">Continue</a>
                </div>
            </div>
        </div>

    </div>

    <div class="review-window">
        <div class="swiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">1</div>
                <div class="swiper-slide">2</div>
                <div class="swiper-slide">3</div>
                <div class="swiper-slide">4</div>
                <div class="swiper-slide">5</div>
                <div class="swiper-slide">6</div>
                <div class="swiper-slide">7</div>
                <div class="swiper-slide">8</div>
                <div class="swiper-slide">9</div>
                <div class="swiper-slide">10</div>
            </div>
        </div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>

    <!-- ============================================================================ -->
    <div class="reviewee">
        <div class="reviewee-container">
            {% for i in range(10) %}
                <div class="reviewee-card">
                    <p class="quiz-word"></p>
                    <p class="quiz-answer"></p>
                </div>
            {% endfor %}
        </div>
    </div>
    <!-- ============================================================================ -->
    <div class="edit-form">
        <div class="edit-field">
            <p>不適切な日本語訳を編集します。<br>
            編集した日本語訳はwebアプリ全体に反映されます。編集する際は慎重に検討してください。</p>
            <span class="material-symbols-outlined">close</span>
            <input type="text">
            <button>request</button>
        </div>
    </div>
    <!-- ============================================================================ -->
    <script>
        const rank = '{{ rank }}',
              score = '{{ score }}';
    </script>
{% endblock %}
