{% extends 'layout.html' %}

{% block title %}
    <title>{{ rank }} Quiz Result Page</title>
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/quiz_result.css') }}">
    <script src="{{ url_for('static', filename='js/mypage.js') }}" defer></script>
    <!-- Swiper.css CDN 導入 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css">
    <!-- Swiper.js CDN 導入 -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js" defer></script>
    <!-- Canvas Confetti CDN 導入 -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js" defer></script>
    <script src="{{ url_for('static', filename='js/quiz_result.js') }}" defer></script>
{% endblock %}

{% block body %}
    <div class="result-page">

        <div class="result-header">{{ rank }} Quiz Result</div>

        <div class="result-body">
            <div class="result-container">
                <span id="result-word"></span>
                <img src="{{ url_for('static', filename='images/trophy-icon.svg') }}" alt="trophy" id="trophy-image">
                <span id="scoreboard">Your Score<br>
                    <span id="user-score"></span><span id="max-score">/10</span>
                </span>
                <div class="next-content">
                    <button id="review-button">Review</button>
                    <a href="{{ url_for('quiz', rank=rank) }}" id="continue-button">Continue</a>
                    <a href="{{ url_for('learnings') }}">
                        <img src="{{ url_for('static', filename='images/close-round-icon.svg') }}" alt="close" id="close-icon">
                    </a>
                </div>
            </div>
        </div>

    </div>

    <div class="review-window">
        <div class="swiper">
            <div class="swiper-wrapper"></div>
        </div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
    <!-- ============================================================================ -->
    <div class="edit-form">
        <div class="edit-field">
            <p>不適切な日本語訳を編集します。<br>
            編集した日本語訳はwebアプリ全体に反映されます。編集する際は慎重に検討してください。</p>
            <span class="material-symbols-outlined">close</span>
            <input type="text">
            <button>request</button>
        </div>
    </div>
    <!-- ============================================================================ -->
    <script>
        const rank = '{{ rank }}',
              score = Number('{{ score }}');
    </script>
{% endblock %}
