{% extends 'layout.html' %}

{% block title %}
    <title>Login Page</title>
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    <script defer src="{{ url_for('static', filename='js/login.js') }}"></script>
{% endblock %}

{% block body %}
    <div class="login-container">
        {% for flash in get_flashed_messages(category_filter=['unauthorized']) %}
            <div class="unauthorized">
                <span class="material-symbols-outlined flash-icon">report</span>
                <span class="flash-text">{{ flash }}</span>
            </div>
        {% endfor %}
        <img src="" class="login-icon">
        <h1 class="login-title">welcome back</h1>
        <form method="POST" class="login-form">
            {{ form.hidden_tag() }}

            <div class="input-field">
                {{ form.username() }}
                <i class='bx bx-user'></i><span class="field-title">Username</span>
                {% for flash in get_flashed_messages(category_filter=['username']) %}
                    <div class="flash">
                        <span class="material-symbols-outlined flash-icon">report</span>
                        <span class="flash-text">{{ flash }}</span>
                    </div>
                {% endfor %}
            </div>

            <div class="input-field">
                {{ form.password() }}
                <i class='bx bx-lock-alt'></i><span class="field-title">Password</span>
                <i class='bx bx-hide show-hide'></i>
                {% for flash in get_flashed_messages(category_filter=['password']) %}
                    <div class="flash">
                        <span class="material-symbols-outlined flash-icon">report</span>
                        <span class="flash-text">{{ flash }}</span>
                    </div>
                {% endfor %}
            </div>

            <div class="checkbox-field">
                {{ form.remember(id="remember-me") }}
                <label for="remember-me">Remember me</label>
            </div>

            <div class="button-field">
                {{ form.submit() }}
            </div>
        </form>
        <div class="login-footer">
            <span>Don't have an account?</span>
            <a href="{{ url_for('signup') }}" id="signup">Signup Now</a>
        </div>
    </div>
{% endblock %}
